2025-03-28 16:35:46,709 - ChargingHub - INFO - Starting ChargingHub Optimization pipeline
2025-03-28 16:35:46,712 - ChargingHub - INFO - Directory structure verified
2025-03-28 16:35:46,713 - ChargingHub - INFO - Starting traffic calculation...
2025-03-28 16:35:50,220 - scripts.traffic_calculation.main - INFO - Terminal cleared. Starting charging hub demand calculation...
2025-03-28 16:35:50,220 - scripts.traffic_calculation.main - INFO - Using forecast year: 2035
2025-03-28 16:35:50,221 - scripts.traffic_calculation.main - INFO - Loading shared data files...
2025-03-28 16:35:50,222 - scripts.traffic_calculation.main - INFO - Loading CSV data from C:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\traffic\raw_data\Befahrungen_25_1Q.csv
2025-03-28 16:36:19,178 - new_toll_midpoints - INFO - Loading preprocessed toll section midpoints from C:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\traffic\interim_results\toll_midpoints.json
2025-03-28 16:36:21,226 - scripts.traffic_calculation.main - INFO - Assigning breaks to locations...
2025-03-28 16:36:40,407 - breaks_assignement - INFO - Calculating scenarios for charging demand...
2025-03-28 16:36:41,941 - scripts.traffic_calculation.main - INFO - Matching toll sections and calculating daily demand...
2025-03-28 16:36:42,331 - toll_matching - INFO - Calculating daily demand using 2035 projections
2025-03-28 16:36:42,704 - toll_matching - INFO - Nearest traffic point ID: 1136 on A31 at distance 2.59 km
2025-03-28 16:36:42,705 - scripts.traffic_calculation.main - INFO - Reference toll section ID: 1136
2025-03-28 16:36:42,713 - scripts.traffic_calculation.main - INFO - Using pre-calculated annual charging sessions - HPC: 9912.987500000001, NCS: 4474.525000000001
2025-03-28 16:36:42,721 - scripts.traffic_calculation.main - INFO - Daily HPC charging sessions breakdown:
2025-03-28 16:36:42,723 - scripts.traffic_calculation.main - INFO -   Monday: 40 sessions
2025-03-28 16:36:42,724 - scripts.traffic_calculation.main - INFO -   Tuesday: 38 sessions
2025-03-28 16:36:42,724 - scripts.traffic_calculation.main - INFO -   Wednesday: 38 sessions
2025-03-28 16:36:42,724 - scripts.traffic_calculation.main - INFO -   Thursday: 37 sessions
2025-03-28 16:36:42,725 - scripts.traffic_calculation.main - INFO -   Friday: 30 sessions
2025-03-28 16:36:42,725 - scripts.traffic_calculation.main - INFO -   Saturday: 6 sessions
2025-03-28 16:36:42,725 - scripts.traffic_calculation.main - INFO -   Sunday: 3 sessions
2025-03-28 16:36:42,726 - scripts.traffic_calculation.main - INFO - Weekly HPC sessions: 192
2025-03-28 16:36:42,726 - scripts.traffic_calculation.main - INFO - Yearly HPC sessions: 9984 (estimated from weekly pattern)
2025-03-28 16:36:42,734 - scripts.traffic_calculation.main - INFO - Scaling of charging sessions completed
2025-03-28 16:36:42,735 - scripts.traffic_calculation.main - INFO - Processing complete. Final results saved to C:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\traffic\final_traffic\laden_mauttabelle.json
2025-03-28 16:36:43,086 - ChargingHub - INFO - Traffic calculation completed successfully
2025-03-28 16:36:43,087 - ChargingHub - INFO - Starting truck matching and charging type assignment...
2025-03-28 16:36:47,992 - ChargingHub - INFO - Truck matching completed successfully
2025-03-28 16:36:47,992 - ChargingHub - INFO - Starting charging hub configuration...
2025-03-28 16:36:48,955 - root - INFO - Starting charging hub configuration
2025-03-28 16:36:48,957 - root - INFO - Looking for truck data at C:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\load\truckdata\eingehende_lkws_ladesaeule.json
2025-03-28 16:36:48,958 - root - INFO - Loading truck data from C:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\load\truckdata\eingehende_lkws_ladesaeule.json
2025-03-28 16:36:48,986 - root - INFO - Successfully loaded 278 trucks from JSON
2025-03-28 16:36:48,986 - root - INFO - Starting charging hub configuration calculation
2025-03-28 16:36:48,989 - root - INFO - Configuration parameters: Target charging quotas={'NCS': 0.8, 'HPC': 0.8, 'MCS': 0.8}, Charging times={'Schnell': 45, 'Nacht': 540}
2025-03-28 16:36:48,992 - root - INFO - Processing 278 trucks
2025-03-28 16:36:49,107 - root - INFO - Processing charging type: NCS, target quota: 0.80
2025-03-28 16:36:49,108 - root - INFO - Found 86 trucks for charging type NCS
2025-03-28 16:36:49,109 - root - INFO - [NCS] Iteration 1: Starting with 1 charging stations
2025-03-28 16:36:49,109 - root - INFO - [NCS] Building flow network with 1 charging stations for 86 trucks
2025-03-28 16:36:51,749 - root - INFO - [NCS] Results: Stations=1, Charged trucks=9/86, Quota=0.10, Trucks per station=1.29
2025-03-28 16:36:51,751 - root - INFO - [NCS] Iteration 2: Starting with 8 charging stations
2025-03-28 16:36:51,751 - root - INFO - [NCS] Building flow network with 8 charging stations for 86 trucks
2025-03-28 16:36:55,218 - root - INFO - [NCS] Results: Stations=8, Charged trucks=47/86, Quota=0.55, Trucks per station=0.84
2025-03-28 16:36:55,219 - root - INFO - [NCS] Iteration 3: Starting with 12 charging stations
2025-03-28 16:36:55,220 - root - INFO - [NCS] Building flow network with 12 charging stations for 86 trucks
2025-03-28 16:36:59,433 - root - INFO - [NCS] Results: Stations=12, Charged trucks=67/86, Quota=0.78, Trucks per station=0.80
2025-03-28 16:36:59,434 - root - INFO - [NCS] Iteration 4: Starting with 13 charging stations
2025-03-28 16:36:59,434 - root - INFO - [NCS] Building flow network with 13 charging stations for 86 trucks
2025-03-28 16:37:03,611 - root - INFO - [NCS] Results: Stations=13, Charged trucks=72/86, Quota=0.84, Trucks per station=0.79
2025-03-28 16:37:03,612 - root - INFO - [NCS] Target quota of 0.80 reached with 13 charging stations
2025-03-28 16:37:03,621 - root - INFO - Processing charging type: HPC, target quota: 0.80
2025-03-28 16:37:03,624 - root - INFO - Found 106 trucks for charging type HPC
2025-03-28 16:37:03,625 - root - INFO - [HPC] Iteration 1: Starting with 1 charging stations
2025-03-28 16:37:03,626 - root - INFO - [HPC] Building flow network with 1 charging stations for 106 trucks
2025-03-28 16:37:07,267 - root - INFO - [HPC] Results: Stations=1, Charged trucks=44/106, Quota=0.42, Trucks per station=6.29
2025-03-28 16:37:07,268 - root - INFO - [HPC] Iteration 2: Starting with 2 charging stations
2025-03-28 16:37:07,268 - root - INFO - [HPC] Building flow network with 2 charging stations for 106 trucks
2025-03-28 16:37:11,508 - root - INFO - [HPC] Results: Stations=2, Charged trucks=69/106, Quota=0.65, Trucks per station=4.93
2025-03-28 16:37:11,509 - root - INFO - [HPC] Iteration 3: Starting with 3 charging stations
2025-03-28 16:37:11,509 - root - INFO - [HPC] Building flow network with 3 charging stations for 106 trucks
2025-03-28 16:37:16,077 - root - INFO - [HPC] Results: Stations=3, Charged trucks=84/106, Quota=0.79, Trucks per station=4.00
2025-03-28 16:37:16,078 - root - INFO - [HPC] Iteration 4: Starting with 4 charging stations
2025-03-28 16:37:16,079 - root - INFO - [HPC] Building flow network with 4 charging stations for 106 trucks
2025-03-28 16:37:20,972 - root - INFO - [HPC] Results: Stations=4, Charged trucks=90/106, Quota=0.85, Trucks per station=3.21
2025-03-28 16:37:20,973 - root - INFO - [HPC] Target quota of 0.80 reached with 4 charging stations
2025-03-28 16:37:20,986 - root - INFO - Processing charging type: MCS, target quota: 0.80
2025-03-28 16:37:20,988 - root - INFO - Found 86 trucks for charging type MCS
2025-03-28 16:37:20,989 - root - INFO - [MCS] Iteration 1: Starting with 1 charging stations
2025-03-28 16:37:20,989 - root - INFO - [MCS] Building flow network with 1 charging stations for 86 trucks
2025-03-28 16:37:23,487 - root - INFO - [MCS] Results: Stations=1, Charged trucks=41/86, Quota=0.48, Trucks per station=5.86
2025-03-28 16:37:23,489 - root - INFO - [MCS] Iteration 2: Starting with 2 charging stations
2025-03-28 16:37:23,489 - root - INFO - [MCS] Building flow network with 2 charging stations for 86 trucks
2025-03-28 16:37:26,565 - root - INFO - [MCS] Results: Stations=2, Charged trucks=62/86, Quota=0.72, Trucks per station=4.43
2025-03-28 16:37:26,566 - root - INFO - [MCS] Iteration 3: Starting with 3 charging stations
2025-03-28 16:37:26,566 - root - INFO - [MCS] Building flow network with 3 charging stations for 86 trucks
2025-03-28 16:37:30,009 - root - INFO - [MCS] Results: Stations=3, Charged trucks=74/86, Quota=0.86, Trucks per station=3.52
2025-03-28 16:37:30,011 - root - INFO - [MCS] Target quota of 0.80 reached with 3 charging stations
2025-03-28 16:37:30,083 - root - INFO - Configuration results exported to JSON: c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\load\truckdata\charging_config_base.json
2025-03-28 16:37:30,083 - root - INFO - Preserved original battery information for 278 trucks
2025-03-28 16:37:30,084 - root - INFO - Results saved to JSON file: c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\load\truckdata\charging_config_base.json
2025-03-28 16:37:30,085 - root - INFO - Charging hub configuration completed successfully
2025-03-28 16:37:30,086 - ChargingHub - INFO - Charging hub configuration completed successfully
2025-03-28 16:37:30,086 - ChargingHub - INFO - Starting demand optimization...
2025-03-28 16:37:30,192 - root - INFO - Optimization p_max/p_min with configuration: {'STRATEGIES': ['Hub'], 'ladequote': 0.8, 'power': '100-100-100', 'pause': '45-540'}
2025-03-28 16:37:30,192 - root - INFO - Optimizing for scenario ['Hub']
2025-03-28 16:37:30,193 - root - INFO - Using configuration parameters: {'ladequote': 0.8, 'power': '100-100-100', 'pause': '45-540'}
2025-03-28 16:37:30,193 - root - INFO - Script directory: c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\scripts\charginghub_setup
2025-03-28 16:37:30,193 - root - INFO - Root directory: c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization
2025-03-28 16:37:30,194 - root - INFO - Checking charging config path: c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\load\truckdata\charging_config_base.json
2025-03-28 16:37:30,195 - root - INFO - Loading charging hub config from: c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\data\load\truckdata\charging_config_base.json
2025-03-28 16:37:30,225 - root - INFO - Successfully loaded charging hub config
2025-03-28 16:37:30,227 - root - INFO - Using truck data from charging_config_base.json - 278 trucks found
2025-03-28 16:37:30,234 - ChargingHub - ERROR - Demand optimization failed: module 'config' has no attribute 'leistung_ladetyp'
Traceback (most recent call last):
  File "c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\main.py", line 90, in run_demand_optimization
    demand_opt_main()
    ~~~~~~~~~~~~~~~^^
  File "c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\scripts\charginghub_setup\demand_optimization.py", line 585, in main
    modellierung()
    ~~~~~~~~~~~~^^
  File "c:\Users\sande\OneDrive\Dokumente\GitHub\ChargingHub_Optimization\scripts\charginghub_setup\demand_optimization.py", line 186, in modellierung
    'NCS': int(int(power_values[0]) / 100 * config.leistung_ladetyp['NCS']),
                                            ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'config' has no attribute 'leistung_ladetyp'
